<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">

<head>
    <title>月入3000，圣诞节怎么过？</title>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1.0,maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <meta name="screen-orientation" content="portrait">
    <!-- uc强制竖屏 -->
    <meta name="x5-orientation" content="portrait">
    <!-- QQ强制竖屏 -->
    <meta name="share-title" content="月入3000，圣诞节怎么过？">
    <!--<meta name="share-desc" content="让每天上班变成幸福一件事。">-->
    <meta name="description" content="提升员工幸福感，还得靠它。">     <!-- 分享描述 -->
    <meta name="shareLink" content="">   <!--  分享链接 -->
    <meta name="shareImg" content="">    <!-- 分享图片 -->
    <!-- build:css(.tmp) styles/christmasShare.css -->
    <link rel="stylesheet" href="styles/christmasShare/christmasShare.css">
    <!-- endbuild -->
    <style>
        *{
            margin: 0;
            padding: 0;
            border: 0;
            outline: 0;
            vertical-align: baseline;
            background: transparent;
        }

        ol,
        ul,
        li {
            list-style: none outside;
        }

        i,
        em {
            font-style: normal;
        }

        img {
            border: none;
            font-size: 0;
        }

        a:hover {
            text-decoration: none;
        }

        body {
            font-family: "Microsoft Yahei";
        }
        img{
            display: block;
            width: 100%;
        }
    </style>
</head>

<body>
<img src="images/christmasShare/1.jpg" style="position: absolute;top:0;z-index: -100000;left: -100%"
     id="shareIcon"/>
<!-- Swiper -->
<!-- /container -->
<div class="swiper-container" id="fullPage">
    <div class="swiper-wrapper">
        <img class="cs1" src="images/christmasShare/1.jpg">
        <img class="cs01" src="images/christmasShare/cs01.jpg">
        <img class="cs02" src="images/christmasShare/cs02.jpg">
        <img class="cs03" src="images/christmasShare/cs03.jpg">
        <img class="cs04" src="images/christmasShare/cs04.jpg">
        <img class="cs05" src="images/christmasShare/cs05.jpg">
        <img class="cs06" src="images/christmasShare/cs06.jpg">
        <img class="cs07" src="images/christmasShare/cs07.jpg">
        <img class="cs08" src="images/christmasShare/cs08.jpg">
        <img class="cs09" src="images/christmasShare/cs09.jpg">
        <img class="cs10" src="images/christmasShare/cs10.jpg">
        <img class="cs11" src="images/christmasShare/cs11.jpg">
        <img class="cs12" src="images/christmasShare/cs12.jpg">
        <img class="cs13" src="images/christmasShare/3.jpg">
        <!-- build:js scripts/christmasShare-vendor.js -->
        <script type="text/javascript" src="scripts/jquery/jquery-2.2.4.min.js"></script>
        <script type="text/javascript" src="scripts/jweixin-1.0.0.js"></script>
        <!-- endbuild -->
        <!-- Initialize Swiper -->
        <script type="text/javascript" src="config/cfg.js"></script>
    </div>
</div>
<!-- Initialize Swiper -->
<script type="text/javascript">
    $(function () {
        function wxShare() {
            $.ajax({
                type: 'POST',
                dataType: 'json',
                contentType: 'application/json',
                url: window.cfg.BBiz + '/manager/get_jsapi_ticket',
                processData: true,
                data: JSON.stringify({
                    'authUrl': window.location.href.split('#')[0]
                }),
                success: function (res) {
//                    alert(res.appid);
                    if (res) {
                        if (res.signature != undefined && res.signature != "") {
                            wx.config({
                                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
                                appId: res.appid, // 必填，公众号的唯一标识
                                timestamp: res.timestamp, // 必填，生成签名的时间戳
                                nonceStr: res.noncestr, // 必填，生成签名的随机串
                                signature: res.signature,// 必填，签名，见附录1
                                jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
                            });
                            wx.ready(function () {
                                var title = document.getElementsByTagName("title")[0].innerHTML || "好品";
                                var desc = document.querySelector("meta[name=description]").content || "来自好品";
                                var imgUrl = document.getElementById('shareIcon').src || document.getElementsByTagName("img")[0].src;
                                var linkUrl = document.querySelector("meta[name=shareLink]").content || window.location.href;

                                wx.onMenuShareTimeline({
                                    title: title,
                                    desc: desc,
                                    link: linkUrl, // 分享链接
                                    imgUrl: imgUrl, // 分享图标
                                    success: function () {
                                        // 用户确认分享后执行的回调函数
                                    },
                                    cancel: function () {
                                        // 用户取消分享后执行的回调函数
                                    }
                                });
                                wx.onMenuShareAppMessage({
                                    title: title, // 分享标题
                                    desc: desc, // 分享描述
                                    link: linkUrl, // 分享链接
                                    imgUrl: imgUrl, // 分享图标
                                    type: '', // 分享类型,music、video或link，不填默认为link
                                    dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
                                    success: function () {
                                        // 用户确认分享后执行的回调函数
                                    },
                                    cancel: function () {
                                        // 用户取消分享后执行的回调函数
                                    }
                                });
                            })
                        }
                    }
                }
            })
        }

        wxShare();
    });

</script>
</body>

</html>
