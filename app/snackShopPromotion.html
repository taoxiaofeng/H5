<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">

<head>
    <title>好品自助零食铺推广</title>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1.0,maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <meta name="screen-orientation" content="portrait">
    <!-- uc强制竖屏 -->
    <meta name="x5-orientation" content="portrait">
    <!-- QQ强制竖屏 -->
    <meta name="share-title" content="好品自助零食铺推广">
    <!--<meta name="share-desc" content="让工作,更美好。">-->
    <meta name="description" content="让工作,更美好。">     <!-- 分享描述 -->
    <meta name="shareLink" content="">   <!--  分享链接 -->
    <meta name="shareImg" content="">    <!-- 分享图片 -->
    <!-- build:css(.tmp) styles/snackShopPromotion.css -->
    <link rel="stylesheet" href="styles/snackShopPromotion/snackShopPromotion.css">
    <!-- endbuild -->
</head>

<body>
<img src="images/snackShopPromotion/hollpin-logo.jpg" style="position: absolute;top:0;z-index: -100000;left: -100%"
     id="shareIcon"/>
<!-- Swiper -->
<!-- /container -->
<div class="swiper-container" id="fullPage">
    <div class="swiper-wrapper">
        <img class="cs01" src="images/snackShopPromotion/hptg-001.jpg">
        <img class="cs02" src="images/snackShopPromotion/hptg-002.jpg">
        <img class="cs03" src="images/snackShopPromotion/hptg-003.jpg">
        <img class="cs04" src="images/snackShopPromotion/hptg-004.jpg">
        <img class="cs05" src="images/snackShopPromotion/hptg-005.jpg">
        <img class="cs06" src="images/snackShopPromotion/hptg-006.jpg">
        <img class="cs07" src="images/snackShopPromotion/hptg-007.jpg">
        <img class="cs08" src="images/snackShopPromotion/hptg-008.jpg">
        <img class="cs09" src="images/snackShopPromotion/hptg-009.jpg">
        <img class="cs10" src="images/snackShopPromotion/hptg-010.jpg">
        <img class="cs11" src="images/snackShopPromotion/hptg-011.jpg">
        <img class="cs12" src="images/snackShopPromotion/hptg-012.jpg">
        <img class="cs13" src="images/snackShopPromotion/hptg-013.jpg">
        <img class="cs14" src="images/snackShopPromotion/hptg-014.jpg">
        <img class="cs15" src="images/snackShopPromotion/hptg-015.jpg">
        <img class="cs16" src="images/snackShopPromotion/hptg-016.jpg">
        <img class="cs17" src="images/snackShopPromotion/hptg-017.jpg">
        <img class="cs18" src="images/snackShopPromotion/hptg-018.jpg">
        <img class="cs19" src="images/snackShopPromotion/hptg-019.jpg">
        <img style="border-bottom: none;" class="cs20" src="images/snackShopPromotion/hptg-020.jpg">
        <!-- build:js scripts/snackShopPromotion-vendor.js -->
        <script type="text/javascript" src="scripts/jquery/jquery-2.2.4.min.js"></script>
        <script type="text/javascript" src="scripts/jweixin-1.0.0.js"></script>
        <!-- endbuild -->
        <!-- Initialize Swiper -->
        <script type="text/javascript" src="config/cfg.js"></script>
    </div>
</div>
<!-- Initialize Swiper -->
<script type="text/javascript">
    $(function () {
        function wxShare() {
            $.ajax({
                type: 'POST',
                dataType: 'json',
                contentType: 'application/json',
                url: window.cfg.BBiz + '/manager/get_jsapi_ticket',
                processData: true,
                data: JSON.stringify({
                    'authUrl': window.location.href.split('#')[0]
                }),
                success: function (res) {
//                    alert(res.appid);
                    if (res) {
                        if (res.signature != undefined && res.signature != "") {
                            wx.config({
                                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
                                appId: res.appid, // 必填，公众号的唯一标识
                                timestamp: res.timestamp, // 必填，生成签名的时间戳
                                nonceStr: res.noncestr, // 必填，生成签名的随机串
                                signature: res.signature,// 必填，签名，见附录1
                                jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
                            });
                            wx.ready(function () {
                                var title = document.getElementsByTagName("title")[0].innerHTML || "好品";
                                var desc = document.querySelector("meta[name=description]").content || "来自好品";
                                var imgUrl = document.getElementById('shareIcon').src || document.getElementsByTagName("img")[0].src;
                                var linkUrl = document.querySelector("meta[name=shareLink]").content || window.location.href;

                                wx.onMenuShareTimeline({
                                    title: title,
                                    desc: desc,
                                    link: linkUrl, // 分享链接
                                    imgUrl: imgUrl, // 分享图标
                                    success: function () {
                                        // 用户确认分享后执行的回调函数
                                    },
                                    cancel: function () {
                                        // 用户取消分享后执行的回调函数
                                    }
                                });
                                wx.onMenuShareAppMessage({
                                    title: title, // 分享标题
                                    desc: desc, // 分享描述
                                    link: linkUrl, // 分享链接
                                    imgUrl: imgUrl, // 分享图标
                                    type: '', // 分享类型,music、video或link，不填默认为link
                                    dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
                                    success: function () {
                                        // 用户确认分享后执行的回调函数
                                    },
                                    cancel: function () {
                                        // 用户取消分享后执行的回调函数
                                    }
                                });
                            })
                        }
                    }
                }
            })
        }

        wxShare();
    });

</script>
</body>

</html>
